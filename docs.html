<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Documentation</title>
    <link rel="stylesheet" href="css/site.css">
  </head>
  <body>
    <div class="maincontainer">
      <header>
          JS Cause
      </header>
      
      <div class="topmenu">
        <ul>
    
      
        <li><a href="index.html">Main</a></li>
      
    
      
        <li><a href="features.html">Features</a></li>
      
    
      
        <li><a href="download.html">Download</a></li>
      
    
      
        <li><a href="install.html">Installation</a></li>
      
    
      
        <li><a href="tutorial.html">Tutorial</a></li>
      
    
      
        <li>Documentation</li>
      
    
      
        <li><a href="faq.html">Frequently Asked Questions</a></li>
      
    
      
        <li><a href="about.html">About</a></li>
      
    
</ul>

      </div>
      
      <div class="title">
          <h1>Documentation</h1>
      </div>
      <div class="content">
          <p>(TO-DO: Address all the TO-DO’s before publishing)</p>

<h2 id="what-is-jscause">What is JSCause?</h2>

<p>JSCause is a web framework and engine built on top of NodeJS which can be used to create simple websites.  Or complex ones, if you so desire.</p>

<p>JSCause can serve HTML, CSS and JS files for a browser to render, just like a regular HTTP server such as Apache or nginx.  It can also preprocess files on the server side, much like how ASP Classic and PHP do.</p>

<p>For example, in ASP Classic, you can have an <code class="highlighter-rouge">index.asp</code> file which, among other things, could contain the following:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;h1&gt;Hello from ASP&lt;/h1&gt;
&lt;p&gt;&lt;% Response.Write("Hello, World") %&gt;&lt;/p&gt;
</code></pre></div></div>

<p>In PHP, that would be an <code class="highlighter-rouge">index.php</code> file:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;h1&gt;Hello from PHP&lt;/h1&gt;
&lt;p&gt;&lt;?php echo 'Hello, World'; ?&gt;&lt;/p&gt;
</code></pre></div></div>

<p>In JSCause, it would be <code class="highlighter-rouge">index.jscp</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;h1&gt;Hello from JSCause&lt;/h1&gt;
&lt;p&gt;&lt;js rt.print('Hello, World'); /js&gt;&lt;/p&gt;
</code></pre></div></div>

<p>The <code class="highlighter-rouge">jscp</code> extension stands for “[J]ava[S]cript [C]ompiled [P]age.”</p>

<h2 id="structure-of-a-jscause-site">Structure of a JSCause site</h2>

<p>A typical JSCause installation will have the following file and directory structure:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ./jscause.js
 ./jscause.conf
 ./jscvendor/
 ./logs/
 ./sites/mysite/
 ./sites/mysite/configuration/site.json
 ./sites/mysite/logs/
 ./sites/mysite/website/
</code></pre></div></div>

<h3 id="the-interesting-stuff">The interesting stuff</h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">sites/mysite</code>: This subdirectory contains your site’s actual content, configuration and logs.  It can be renamed in <code class="highlighter-rouge">jscause.conf</code> (read below.)</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">sites/mysite/website/</code>:  This subdirectory will contain your website’s files and resources to be served to the browser and other web clients:  All your HTML, CSS and Javascript files go in here.  Other assets go here as well; such as images and files to be downloaded.  Dynamic <code class="highlighter-rouge">.jscp</code> files also go here.  These will be parsed and executed by JSCause, and the result of said execution will be sent to the web client.  <a href="#the-website-directory-all-your-websites-content">Read more about this directory here</a>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">sites/mysite/configuration/site.json</code>: In this file you can configure the details of your website: host name and port, upload limits, logging, etc. <a href="#sitejson-configuring-your-websites-details">Read more about this file in the site.json section</a>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">sites/mysite/logs/</code>:  In this subdirectory, JSCause will log access and error entries pertaining to your website.</p>
  </li>
</ul>

<h3 id="the-important-to-know-stuff">The important to know stuff</h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">jscause.conf</code>: This file holds JSCause’s general configuration.  You can specify here where your content and log files are, whether to accept secure HTTPS connections, etc.  It may also hold configuration options that apply to, and prevail over, a website’s <code class="highlighter-rouge">site.json</code> configuration.  You can <a href="#jscauseconf-configuring-jscause-to-serve-your-website">read more about this file here</a>.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">logs/</code>: This directory contains the server access and error logs.</p>
  </li>
</ul>

<h3 id="the-boilerplate-stuff">The boilerplate stuff</h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">jscause.js</code>: This file contains the actual JSCause node application.  You use it when running node to start serving your website (<code class="highlighter-rouge">node jscause.js</code>). You won’t normally need to edit this file, ever.</p>
  </li>
  <li>
    <p><code class="highlighter-rouge">jscvendor/</code>:  This directory contains the third-party dependencies that support specific JSCause features, such as HTML form handling and cookies.  You won’t normally need to edit the contents of this directory.  “But I thought JSCause didn’t have any dependencies!” you may be thinking.  What we mean by that is that JSCause is self-contained.  Once you download and unzip it, it’s good to go.  <a href="#jscvendor-jscause-vendor-directory">Read more about the jscvendor directory here</a>.</p>
  </li>
</ul>

<h2 id="jscauseconf-configuring-jscause-to-serve-your-website">jscause.conf: Configuring JSCause to serve your website</h2>

<p>When JSCause is invoked, it reads the <code class="highlighter-rouge">jscause.conf</code> file for configuration options. The options are declared as a <em>sort of</em> JSON object.  We use “sort of” here because comments (designated by <code class="highlighter-rouge">//</code>) are allowed, whereas in a truly JSON object, they are not.</p>

<p>The options, in the form of attributes, are case insensitive (i.e. <code class="highlighter-rouge">sites</code> can be written as <code class="highlighter-rouge">Sites</code>, <code class="highlighter-rouge">SITES</code>, <code class="highlighter-rouge">sItEs</code>, etc.)  They are listed below:</p>

<h3 id="sites">sites:</h3>

<p>This is an array of object declarations, each representing a site to be served by JSCause:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"sites": [
  {
    // First site configuration goes here.
  },
  {
    // Second site configuration goes here.
  }
  // etc.
]
</code></pre></div></div>

<p>A site entry can contain the following attributes:</p>

<p><strong><em>name</em></strong></p>

<p>This is the site’s name.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"name": "My Site"
</code></pre></div></div>

<p>“<em>name</em>” must be unique.  If JSCause ever needs to notify or log some event related to the site, it will refer to it by this name.</p>

<p><strong><em>port</em></strong></p>

<p>This is the network port JSCause will listen for client connections.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"port": 3000
</code></pre></div></div>

<p>More than one site can share the same port, as long as they also have a unique host name (read <a href="#sitejson-configuring-your-websites-details">the site.json section</a>) and a unique root directory name (read the next section about <code class="highlighter-rouge">rootDirectoryName</code>.)</p>

<p><strong><em>rootDirectoryName</em></strong></p>

<p>This is the name of the subdirectory the website files are located at inside the <code class="highlighter-rouge">sites/</code> directory.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"rootDirectoryName": "mysite"
</code></pre></div></div>

<p>The above states that the site is under <code class="highlighter-rouge">sites/mysite</code>.</p>

<p>More than one site can share the same root directory name, as long as they use different ports.</p>

<p><strong><em>enableHTTPS</em></strong></p>

<p>This attribute indicates whether the site is served as either HTTPS (<code class="highlighter-rouge">true</code>) or HTTP (<code class="highlighter-rouge">false</code>).</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"enableHTTPS": true
</code></pre></div></div>

<p>If HTTPS is enabled, you must provide JSCause with your certificate file, as well as your certificate’s public key file.  Check out these resources: <a href="#sitejson-configuring-your-websites-details">httpsCertFile and httpsKeyFile section on site.json</a>, and the <a href="#httpsssl-configuration">HTTPS/SSL configuration section</a>.</p>

<h3 id="logging">logging:</h3>

<p>This is a list of attributes to indicate what JSCause will log, and how:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"logging": {
  "general": {
    // Attributes pertaining application-wide logging.
  },
  "perSite": {
    // Attributes pertaining per-site-wide logging.
  }
}
</code></pre></div></div>

<p>To learn more about what type of data JSCause logs, please check out the <a href="#server-logging">server logging section</a>.</p>

<p><strong><em>general</em></strong></p>

<p>A “<em>general</em>” entry can contain the following attributes:</p>

<p><strong>- fileOutput</strong></p>

<p>This attribute indicates whether the log data should be written to the file system.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"fileOutput": "enabled"
</code></pre></div></div>

<p>There are two valid values:</p>
<ul>
  <li><code class="highlighter-rouge">enabled</code>:  Create log files and write to them.  You must provide a valid <code class="highlighter-rouge">directoryName</code> entry (read below.)</li>
  <li><code class="highlighter-rouge">disabled</code>:  No creating log files or writing to them.  In this case, <code class="highlighter-rouge">directoryName</code> can be optional.</li>
</ul>

<p><strong>- directoryName</strong></p>

<p>This is the path of the directory to be used to store JSCause’s log data.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"directoryName": "./logs"
</code></pre></div></div>

<p>The path can be absolute (e.g. <code class="highlighter-rouge">/home/user_name/server_data/logs</code>) or relative (e.g. <code class="highlighter-rouge">./logs</code>).  If relative, it will be relative to the directory where JSCause is installed.</p>

<p>If <code class="highlighter-rouge">fileOutput</code> is false, this attribute is optional.</p>

<p><strong>- consoleOutput</strong></p>

<p>This attribute indicates whether the log data should be printed to the terminal.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"consoleOutput": "enabled"
</code></pre></div></div>

<p>There are two valid values:</p>
<ul>
  <li><code class="highlighter-rouge">enabled</code>:  Print to the terminal.</li>
  <li><code class="highlighter-rouge">disabled</code>:  No printing to the terminal whatsoever.</li>
</ul>

<p><strong><em>perSite</em></strong></p>

<p>This section pertains to site logging.  “<em>perSite</em>” logging captures events related to the website only (for instance, whenever it is accessed, if the site threw an error, or if the user application logs to the console.)  This is different from “<em>general</em>”, which only logs events related to JSCause as an application (for instance, whether it started successfully, what ports are listening, if all the sites and up and running, etc.)</p>

<p>Administrators can indicate whether individual sites can have their own logging configuration or not (e.g., they can disable logging to terminal for all sites, but leave the decision of logging to file to each individual site.)</p>

<p>A “<em>perSite</em>” entry can contain the following attributes:</p>

<p><strong>- fileOutput</strong></p>

<p>This attribute indicates whether the site’s log data should be written to the file system.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"fileOutput": "enabled"
</code></pre></div></div>

<p>There are three valid values:</p>
<ul>
  <li><code class="highlighter-rouge">enabled</code>:  Create log files and write to them.  You must provide a valid <code class="highlighter-rouge">directoryName</code> entry in the site’s <code class="highlighter-rouge">site.json</code> configuration file.  <a href="#sitejson-configuring-your-websites-details">Read more in the site.json section</a>.</li>
  <li><code class="highlighter-rouge">disabled</code>:  No creating log files or writing to them.  In this case, <code class="highlighter-rouge">directoryName</code> can be optional.</li>
  <li><code class="highlighter-rouge">perSite</code>:  Leave it to the sites’ <code class="highlighter-rouge">site.json</code> configuration.</li>
</ul>

<p><strong>- consoleOutput</strong></p>

<p>This attribute indicates whether the site’s log data should be printed to the terminal.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"consoleOutput": "enabled"
</code></pre></div></div>

<p>There are three valid values:</p>
<ul>
  <li><code class="highlighter-rouge">enabled</code>:  Print to the terminal.</li>
  <li><code class="highlighter-rouge">disabled</code>:  No printing to the terminal whatsoever.</li>
  <li><code class="highlighter-rouge">perSite</code>:  Leave it to the sites’ <code class="highlighter-rouge">site.json</code> configuration.</li>
</ul>

<h3 id="requesttimeoutsecs">requestTimeoutSecs:</h3>

<p>(CONTINUE HERE.) Bleh bleh bleh</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"requestTimeoutSecs": 60
</code></pre></div></div>

<p>(TO-DO: Talk about symlinking? Where?)</p>

<p>Here is an example configuration:</p>

<p>(TO-DO: EXAMPLE CONFIGURATION HERE.)</p>

<h2 id="sitejson-configuring-your-websites-details">site.json: Configuring your website’s details</h2>

<p>Here we’ll talk about all the config options.</p>

<p>The options, in the form of attributes, are case insensitive (i.e. <code class="highlighter-rouge">hostName</code> can be written as <code class="highlighter-rouge">hostname</code>, <code class="highlighter-rouge">Hostname</code>, <code class="highlighter-rouge">HOSTNAME</code>, etc.)  They are listed below:</p>

<p><strong><em>hostName:</em></strong></p>

<p>Bleh bleh</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"hostName": "jscausesite1"
</code></pre></div></div>

<p>More than one site can share the same host name, as long as they use different ports.</p>

<h2 id="httpsssl-configuration">HTTPS/SSL configuration</h2>

<p>here we talk about configuring SSL.</p>

<h2 id="server-logging">Server logging</h2>

<p>here we talk about logging</p>
<ul>
  <li>What kind of data is logged.</li>
  <li>If files, how the files are created and rotated (if not covered in the configuration files.)</li>
</ul>

<h2 id="jscvendor-jscause-vendor-directory">jscvendor: JSCause vendor directory</h2>

<p>In a typical installation workflow, all you need to get JSCause up and running is to download the zip file, unzip it and run it.  No need to run an <code class="highlighter-rouge">npm install</code> command, or generate some usually big <code class="highlighter-rouge">node_modules/</code> directory that requires maintaining.</p>

<p>Of course, if you prefer to install via <code class="highlighter-rouge">npm</code>, <a href="/download.html">you can still do so</a>.</p>

<h2 id="the-website-directory-all-your-websites-content">The website/ directory: All your website’s content</h2>

<p>Here we’ll talk about all the config options.</p>

<h2 id="troubleshooting-jscause">Troubleshooting JSCause</h2>

<p>Troubleshooting here.</p>

      </div>
      <div class="topmenu">
        <ul>
    
      
        <li><a href="index.html">Main</a></li>
      
    
      
        <li><a href="features.html">Features</a></li>
      
    
      
        <li><a href="download.html">Download</a></li>
      
    
      
        <li><a href="install.html">Installation</a></li>
      
    
      
        <li><a href="tutorial.html">Tutorial</a></li>
      
    
      
        <li>Documentation</li>
      
    
      
        <li><a href="faq.html">Frequently Asked Questions</a></li>
      
    
      
        <li><a href="about.html">About</a></li>
      
    
</ul>

      </div>
      <footer>
          &copy; 2019 EighthJouster
      </footer>
  </body>
</html>
